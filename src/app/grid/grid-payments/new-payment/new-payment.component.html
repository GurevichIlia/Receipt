<div class="container">
  <form [formGroup]="newPaymentForm">
    <div class="row">
      <div class="col-xs-6 col-sm-6 col-md-8 col-lg-8 col-xl-8 text-right" *ngIf="!isEditFileAs && fileAs.value !== ''">
        <h5> {{fileAs.value}} <span (click)="editFileAs()" style="cursor: pointer" mat-cell>
            <mat-icon>create</mat-icon>
          </span> </h5>
      </div>
      <div class="col-xs-6 col-sm-5 col-md-5 col-lg-5 col-xl-5" *ngIf="isEditFileAs">
        <mat-form-field class="col-xs-5 col-sm-5 col-md-5 col-lg-5 col-xl-5">
          <input #FileAs [(value)]="fileAs.value" matInput placeholder="File as"
            (blur)="saveEditFileAs(fileAs, FileAs.value)" (keydown.enter)="saveEditFileAs(fileAs, FileAs.value)">
        </mat-form-field>
      </div>

    </div>

    <hr class="mb-2">

    <button mat-button (click)="toCustomerSearch()" style="cursor: pointer">
      Customer info      <mat-icon>arrow_back</mat-icon>
    </button>

<button  (click)="setDataForNewPaymentKeva()">set data</button>
    <mat-accordion #accordion="matAccordion" class="mb-5" multi="true">
      <!-- ROW ONE -->
      <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
        <mat-expansion-panel-header>
          <h5> הוראת קבע </h5>
        </mat-expansion-panel-header>
        <app-first-step [globalData$]="globalData$" [firstStep]="newPaymentForm.get('firstStep')">
        </app-first-step>
        <mat-action-row>
          <button mat-button color="primary" (click)="nextStep()">{{'Next' | translate}}</button>
        </mat-action-row>
      </mat-expansion-panel>
      <!-- ROW ONE -->
      <!-- ROW TWO -->
      <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
        <mat-expansion-panel-header>
          <h5> פרטים אושיים</h5>
        </mat-expansion-panel-header>
        <app-second-step [secondStep]="newPaymentForm.get('secondStep')"></app-second-step>
        <mat-action-row>
          <button mat-button color="warn" (click)="prevStep()"> {{'Previous' | translate}}</button>
          <button mat-button color="primary" (click)="nextStep()">{{'Next' | translate}}</button>
        </mat-action-row>
      </mat-expansion-panel>
      <!-- ROW TWO -->
      <!-- ROW THREE -->
      <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
        <mat-expansion-panel-header>
          <!-- <h5 *ngIf="paymentType.value === '2' || paymentType.value === '1'">חשבון בנק</h5>
          <h5 *ngIf="paymentType.value === '3'">כרטיס אשראי</h5> -->
          <h5>Title 4</h5>
        </mat-expansion-panel-header>
        <app-third-step [paymentType]="paymentType" [listCustomerCreditCard]="listCustomerCreditCard" [thirdStep]="newPaymentForm.get('thirdStep')"
          (addNewCardIsClicked)=" openModalForNewCreditCard()"></app-third-step>
        <mat-action-row>
          <button mat-button color="warn" (click)="prevStep()"> {{'Previous' | translate}}</button>
          <button mat-button color="primary" (click)="nextStep()">{{'Next' | translate}}</button>
        </mat-action-row>
      </mat-expansion-panel>
      <!-- ROW THREE -->
      <!-- ROW FOUR -->
      <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
        <mat-expansion-panel-header>
          <h5>פרטי החייב</h5>
        </mat-expansion-panel-header>
        <app-fourth-step [globalData$]="globalData$" [fourthStep]="newPaymentForm.get('fourthStep')">
        </app-fourth-step>
        <mat-action-row>
          <button mat-button color="warn" (click)="prevStep()"> {{'Previous' | translate}}</button>
          <button mat-button color="primary" (click)="nextStep()">{{'Next' | translate}}</button>
        </mat-action-row>
      </mat-expansion-panel>
      <!-- ROW FOUR -->
      <!-- ROW FIVE -->
      <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
        <mat-expansion-panel-header>
          <h5>מידע להפקת קבלות</h5>
        </mat-expansion-panel-header>
        <app-fifth-step [projectCat]="projectCat" [globalData$]="globalData$"
          [fifthStep]="newPaymentForm.get('fifthStep')"></app-fifth-step>
        <mat-action-row>
          <button mat-button color="warn" (click)="prevStep()"> {{'Previous' | translate}}</button>
          <button mat-button color="primary" (click)="nextStep()">{{'Next' | translate}}</button>
        </mat-action-row>
      </mat-expansion-panel>
      <!-- ROW FIVE -->
    </mat-accordion>
    <div class="row mt-3">
      <div class="col-2">
        <button type="submite" [disabled]="newPaymentForm.invalid" class="example-full-width" mat-raised-button
          color="accent">Submit</button>
      </div>
    </div>
  </form>
</div>